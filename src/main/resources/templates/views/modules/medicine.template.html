<div data-ng-controller="MedicineController as medicine">
	<div class="pure-g">
		<div class="pure-u-1 pure-u-md-1-2">
			<div class="section">
				<h2>What medicines are you taking?</h2>
				<div class="pure-form pure-form-aligned">
					<fieldset>
						<div class="pure-control-group" data-ng-repeat="medication in medicine.medications">
							<label for="medicine{{$index + 1}}">Medication {{$index + 1}}:</label>
							<input class="inline-block" id="medicine{{$index + 1}}" type="text" data-ng-model="medication.input"/>
							<a href="" data-ng-if="$index != 0" 							
								data-ng-click="medicine.removeMedication($index)" title="Remove medication {{$index + 1}}" 
								class="link-button button-remove fa fa-times"></a>
						</div>
						<a href="" data-ng-click="medicine.addMedication()">Add another medication</a>
						<div class="pure-u-1">
							<hr />
							<button data-ng-click="medicine.search()" class="pure-button pure-button-primary">Search</button>
						</div>
					</fieldset>
				</div>
			</div>
		</div>
		<div class="pure-u-1 pure-u-md-1-2">
			<div id="resultsSection"></div>
			<div class="section" data-ng-if="!medicine.selectedEvent">
				<p>
				Enter the medicines you take and click on <strong>Search</strong>. From there you'll see 
				adverse events that have been reported to the FDA when a patient took the same combination of 
				medicines. The presence of an event, does not mean a medication is unsafe. 
				Consult a physician for further details.
				</p>
			</div>
			<div class="section" data-ng-if="medicine.selectedEvent">
				<h2 data-ng-bind="medicine.selectedEvent.device[0].brand_name"></h2>
				<div class="pure-g fields">
					<div class="pure-u-1 pure-u-md-1-4">
						<strong>Manufacturer:</strong>
					</div>
					<div class="pure-u-1 pure-u-md-3-4">
						<span data-ng-bind="medicine.selectedEvent.manufacturer_name"></span>
					</div>
					<div class="pure-u-1 pure-u-md-1-4">
						<strong>Type of event:</strong>
					</div>
					<div class="pure-u-1 pure-u-md-3-4">
						<span data-ng-bind="medicine.selectedEvent.event_type"></span>
					</div>
					<div class="pure-u-1 pure-u-md-1-4">
						<strong>Description of event:</strong>
					</div>
					<div class="pure-u-1 pure-u-md-3-4">
						<div class="scrollable-container">
						<span data-ng-bind="medicine.selectedEventNarrative"></span>
						</div>
					</div>
					<div class="pure-u-1 pure-u-md-1-4">
						<strong>Manufacturer Contact:</strong>
					</div>
					<div class="pure-u-1 pure-u-md-3-4">
						<a href="https://www.google.com/#q={{medicine.selectedEvent.manufacturer_name}}+{{medicine.selectedEvent.manufacturer_contact_address_1}}+{{medicine.selectedEvent.manufacturer_contact_city}}+{{medicine.selectedEvent.manufacturer_contact_state}}+{{medicine.selectedEvent.manufacturer_contact_zip_code}}" target="_blank">
							<span data-ng-bind="medicine.selectedEvent.manufacturer_contact_address_1"></span> <br />
							<span data-ng-bind="medicine.selectedEvent.manufacturer_contact_address_2"></span> <br data-ng-if="medicine.selectedEvent.manufacturer_contact_address_2"/>
							<span data-ng-bind="medicine.selectedEvent.manufacturer_contact_city"></span>, <span data-ng-bind="medicine.selectedEvent.manufacturer_contact_state"></span> <span data-ng-bind="medicine.selectedEvent.manufacturer_contact_zip_code"></span><br />
						</a>
						<a href="tel:{{medicine.selectedEvent.manufacturer_contact_area_code}}-{{medicine.selectedEvent.manufacturer_contact_exchange}}-{{medicine.selectedEvent.manufacturer_contact_phone_number}}" target="_blank">
							({{medicine.selectedEvent.manufacturer_contact_area_code}}) {{medicine.selectedEvent.manufacturer_contact_exchange}}-{{medicine.selectedEvent.manufacturer_contact_phone_number}}
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>